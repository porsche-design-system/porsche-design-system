{"version":3,"sources":["webpack:///../utilities/projects/utilities/dist/esm/font/fontVariant.mjs","webpack:///../utilities/projects/utilities/dist/esm/font/fontLineHeight.mjs","webpack:///../utilities/projects/utilities/dist/esm/font/fontSizeTextSmall.mjs","webpack:///../utilities/projects/utilities/dist/esm/typography/text/textSmallStyle.mjs","webpack:///../utilities/projects/utilities/dist/esm/font/fontHyphenationStyle.mjs","webpack:///../utilities/projects/utilities/dist/esm/font/fontWeightRegular.mjs","webpack:///../utilities/projects/utilities/dist/esm/typography/text/textShared.mjs","webpack:///../components/src/constants.ts","webpack:///../utilities/projects/utilities/dist/esm/font/fontStyleNormal.mjs","webpack:///../utilities/projects/utilities/dist/esm/font/fontFamily.mjs","webpack:///../components/src/components/popover/popover.examples.md","webpack:///../components/src/styles/popover-reset-styles.ts","webpack:///../components/src/components/popover/popover-styles.ts","webpack:///../components/src/components/popover/popover-utils.ts","webpack:///../components/src/components/popover/popover.examples.md?a740","webpack:///../components/src/components/popover/popover.examples.md?169d"],"names":["fontVariant","fontLineHeight","fontSizeTextSmall","textSmallStyle","font","_textFontPartA","_textFontPartB","fontHyphenationStyle","overflowWrap","hyphens","fontWeightRegular","fontStyleNormal","fontFamily","TOAST_Z_INDEX","MODAL_Z_INDEX","FLYOUT_Z_INDEX","POPOVER_Z_INDEX","BANNER_Z_INDEX","render","_vm","_c","_self","_setupProxy","staticClass","attrs","_v","$store","getters","storefrontTheme","_m","_s","zIndex","basicMarkup","config","accessibilityMarkup","directionMarkup","directions","model","value","direction","callback","$$v","expression","staticRenderFns","canvasColor","canvasTextColor","getHighContrastColors","POPOVER_DIRECTIONS","__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Code","Vue","constructor","super","this","overflowX","themeable","popoverContent","descriptionMarkup","Component","component"],"mappings":"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","file":"js/chunk-39266e73.6e5cac40.js","sourcesContent":["const fontVariant = 'normal';\n\nexport { fontVariant };\n","const fontLineHeight = 'calc(6px + 2.125ex)';\n\nexport { fontLineHeight };\n","const fontSizeTextSmall = '1rem';\n\nexport { fontSizeTextSmall };\n","import { _textFontPartA, _textFontPartB } from './textShared.mjs';\nimport { fontHyphenationStyle } from '../../font/fontHyphenationStyle.mjs';\nimport { fontSizeTextSmall } from '../../font/fontSizeTextSmall.mjs';\n\nconst textSmallStyle = {\n    font: `${_textFontPartA}${fontSizeTextSmall}${_textFontPartB}`,\n    ...fontHyphenationStyle,\n};\n\nexport { textSmallStyle };\n","const fontHyphenationStyle = {\n    overflowWrap: 'break-word',\n    hyphens: 'auto',\n};\n\nexport { fontHyphenationStyle };\n","const fontWeightRegular = 400;\n\nexport { fontWeightRegular };\n","import { fontFamily } from '../../font/fontFamily.mjs';\nimport { fontLineHeight } from '../../font/fontLineHeight.mjs';\nimport { fontWeightRegular } from '../../font/fontWeightRegular.mjs';\nimport { fontStyleNormal } from '../../font/fontStyleNormal.mjs';\nimport { fontVariant } from '../../font/fontVariant.mjs';\n\nconst _textFontPartA = `${fontStyleNormal} ${fontVariant} ${fontWeightRegular} `;\nconst _textFontPartB = `/${fontLineHeight} ${fontFamily}`;\n\nexport { _textFontPartA, _textFontPartB };\n","export const TOAST_Z_INDEX = 999999;\nexport const MODAL_Z_INDEX = 99999;\nexport const FLYOUT_Z_INDEX = 99998;\nexport const POPOVER_Z_INDEX = 9999;\nexport const BANNER_Z_INDEX = 99;\n","const fontStyleNormal = 'normal';\n\nexport { fontStyleNormal };\n","const fontFamily = \"'Porsche Next','Arial Narrow',Arial,'Heiti SC',SimHei,sans-serif\";\n\nexport { fontFamily };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { POPOVER_Z_INDEX } from \"../../constants\";\nimport Vue from 'vue';\nimport Component from 'vue-class-component';\nimport { POPOVER_DIRECTIONS } from './popover-utils';\nlet Code = class Code extends Vue {\n    constructor() {\n        super(...arguments);\n        this.config = { overflowX: 'visible', themeable: true, };\n        this.popoverContent = 'Some additional content.';\n        this.zIndex = POPOVER_Z_INDEX;\n        this.basicMarkup = `<p-text>\n  Some content <p-popover>${this.popoverContent}</p-popover> which is longer.<br>  Some more content <p-popover description=\"${this.popoverContent}\"></p-popover>.\n</p-text>`;\n        this.descriptionMarkup = `<p-popover description=\"${this.popoverContent}\"></p-popover>`;\n        this.direction = 'left';\n        this.directions = POPOVER_DIRECTIONS;\n        this.accessibilityMarkup = `<p-text>\n  Some content <p-popover aria=\"{ 'aria-label': 'Some more descriptive label' }\">${this.popoverContent}</p-popover>\n</p-text>`;\n    }\n    get directionMarkup() {\n        return `<p-popover direction=\"${this.direction}\">${this.popoverContent}</p-popover>`;\n    }\n};\nCode = __decorate([\n    Component\n], Code);\nexport default Code;\n","// Used for elements that must overflow `overflow:hidden` containers, are positioned absolute and wrapped within a native `popover` element.\nexport const getPopoverResetJssStyle = () => {\n    return {\n        position: 'absolute',\n        border: 'none',\n        background: 'none',\n        pointerEvents: 'all',\n        padding: 0,\n        margin: 0,\n        overflow: 'initial',\n        '&:-internal-popover-in-top-layer::backdrop': {\n            display: 'none',\n        },\n    };\n};\n","import { safeZonePx } from './popover-utils';\nimport { borderRadiusSmall, fontLineHeight, frostedGlassStyle, motionDurationShort, motionEasingBase, textSmallStyle, } from '@porsche-design-system/styles';\nimport { getCss, isHighContrastMode, isThemeDark } from '../../utils';\nimport { addImportantToEachRule, colorSchemeStyles, cssVariableAnimationDuration, getFocusJssStyle, getHiddenTextJssStyle, getHighContrastColors, getThemedColors, getTransition, hostHiddenStyles, hoverMediaQuery, prefersColorSchemeDarkMediaQuery, } from '../../styles';\nimport { POPOVER_Z_INDEX } from '../../constants';\nimport { getPopoverResetJssStyle } from '../../styles/popover-reset-styles';\nconst { canvasColor, canvasTextColor } = getHighContrastColors();\nconst directionPositionMap = {\n    top: {\n        bottom: '100%',\n        left: '50%',\n        transform: 'translate3d(-50%, 0, 0)', // translate3d used to fix Safari shadow bug\n    },\n    right: {\n        top: '50%',\n        left: '100%',\n        transform: 'translate3d(0, -50%, 0)',\n    },\n    bottom: {\n        top: '100%',\n        left: '50%',\n        transform: 'translate3d(-50%, 0, 0)',\n    },\n    left: {\n        top: '50%',\n        right: '100%',\n        transform: 'translate3d(0, -50%, 0)',\n    },\n};\nconst borderWidth = '12px';\nconst transparentColor = 'transparent';\nconst join = (...arr) => arr.join(' ');\nconst getDirectionArrowMap = (theme) => {\n    const { backgroundColor, backgroundSurfaceColor } = getThemedColors(theme);\n    const { backgroundSurfaceColor: backgroundSurfaceColorDark } = getThemedColors('dark');\n    const isDark = isThemeDark(theme);\n    return {\n        top: {\n            top: 0,\n            left: '50%',\n            transform: 'translateX(-50%)',\n            borderWidth: join(borderWidth, borderWidth, 0),\n            ...(isHighContrastMode\n                ? {\n                    borderColor: join(canvasTextColor, canvasColor, canvasColor),\n                }\n                : {\n                    borderColor: join(isDark ? backgroundSurfaceColor : backgroundColor, transparentColor, transparentColor),\n                    ...prefersColorSchemeDarkMediaQuery(theme, {\n                        borderColor: join(backgroundSurfaceColorDark, transparentColor, transparentColor),\n                    }),\n                }),\n        },\n        right: {\n            top: '50%',\n            right: 0,\n            transform: 'translateY(-50%)',\n            borderWidth: join(borderWidth, borderWidth, borderWidth, 0),\n            ...(isHighContrastMode\n                ? {\n                    borderColor: join(canvasColor, canvasTextColor, canvasColor, canvasColor),\n                }\n                : {\n                    borderColor: join(transparentColor, isDark ? backgroundSurfaceColor : backgroundColor, transparentColor, transparentColor),\n                    ...prefersColorSchemeDarkMediaQuery(theme, {\n                        borderColor: join(transparentColor, backgroundSurfaceColorDark, transparentColor, transparentColor),\n                    }),\n                }),\n        },\n        bottom: {\n            bottom: 0,\n            left: '50%',\n            transform: 'translateX(-50%)',\n            borderWidth: join(0, borderWidth, borderWidth),\n            ...(isHighContrastMode\n                ? {\n                    borderColor: join(canvasColor, canvasColor, canvasTextColor),\n                }\n                : {\n                    borderColor: join(transparentColor, transparentColor, isDark ? backgroundSurfaceColor : backgroundColor),\n                    ...prefersColorSchemeDarkMediaQuery(theme, {\n                        borderColor: join(transparentColor, transparentColor, backgroundSurfaceColorDark),\n                    }),\n                }),\n        },\n        left: {\n            top: '50%',\n            left: 0,\n            transform: 'translateY(-50%)',\n            borderWidth: join(borderWidth, 0, borderWidth, borderWidth),\n            ...(isHighContrastMode\n                ? {\n                    borderColor: join(canvasColor, canvasColor, canvasColor, canvasTextColor),\n                }\n                : {\n                    borderColor: join(transparentColor, transparentColor, transparentColor, isDark ? backgroundSurfaceColor : backgroundColor),\n                    ...prefersColorSchemeDarkMediaQuery(theme, {\n                        borderColor: join(transparentColor, transparentColor, transparentColor, backgroundSurfaceColorDark),\n                    }),\n                }),\n        },\n    };\n};\nexport const getComponentCss = (direction, isNativePopoverCase, theme) => {\n    const { hoverColor, backgroundColor, primaryColor, backgroundSurfaceColor } = getThemedColors(theme);\n    const { hoverColor: hoverColorDark, primaryColor: primaryColorDark, backgroundSurfaceColor: backgroundSurfaceColorDark, } = getThemedColors('dark');\n    const shadowColor = 'rgba(0,0,0,0.3)';\n    return getCss({\n        '@global': {\n            ':host': {\n                display: 'inline-block',\n                verticalAlign: 'top',\n                ...addImportantToEachRule({\n                    position: 'relative',\n                    ...colorSchemeStyles,\n                    ...hostHiddenStyles,\n                }),\n            },\n            p: {\n                ...textSmallStyle,\n                margin: 0,\n            },\n            button: {\n                display: 'block',\n                WebkitAppearance: 'none', // iOS safari\n                appearance: 'none',\n                background: 'transparent',\n                border: 0,\n                padding: 0,\n                cursor: 'pointer',\n                ...textSmallStyle,\n                width: fontLineHeight, // width needed to improve ssr support\n                height: fontLineHeight, // height needed to improve ssr support\n                borderRadius: '50%',\n                // TODO: we should try to use getHoverStyle()\n                ...hoverMediaQuery({\n                    transition: getTransition('background-color'),\n                    '&:hover': {\n                        ...frostedGlassStyle,\n                        backgroundColor: hoverColor,\n                        ...prefersColorSchemeDarkMediaQuery(theme, {\n                            backgroundColor: hoverColorDark,\n                        }),\n                    },\n                }),\n                ...getFocusJssStyle(theme, { offset: 0 }),\n            },\n        },\n        label: getHiddenTextJssStyle(),\n        icon: {\n            transform: 'translate3d(0,0,0)', // Fixes movement on hover in Safari\n        },\n        spacer: {\n            ...(isNativePopoverCase\n                ? {\n                    ...getPopoverResetJssStyle(),\n                }\n                : {\n                    inset: `${-safeZonePx}px`,\n                }),\n            position: 'absolute',\n            zIndex: POPOVER_Z_INDEX,\n            filter: `drop-shadow(0 0 16px ${shadowColor})`,\n            backdropFilter: 'drop-shadow(0px 0px 0px transparent)', // fixes issues with Chrome >= 105 where filter: drop-shadow is not applied correctly after animation ends\n            pointerEvents: 'none',\n            animation: ROLLUP_REPLACE_IS_STAGING === 'production' || process.env.NODE_ENV === 'test'\n                ? `${motionDurationShort} $fadeIn ${motionEasingBase} forwards`\n                : `var(${cssVariableAnimationDuration}, ${motionDurationShort}) $fadeIn ${motionEasingBase} forwards`,\n            '&::before': {\n                content: '\"\"',\n                position: 'absolute',\n                borderStyle: 'solid',\n                ...getDirectionArrowMap(theme)[direction],\n            },\n            ...prefersColorSchemeDarkMediaQuery(theme, {\n                filter: `drop-shadow(0 0 16px ${shadowColor})`,\n            }),\n        },\n        popover: {\n            position: 'absolute',\n            maxWidth: 'min(90vw, 27rem)',\n            width: 'max-content',\n            boxSizing: 'border-box',\n            background: isThemeDark(theme) ? backgroundSurfaceColor : backgroundColor,\n            padding: '8px 16px',\n            pointerEvents: 'auto',\n            ...directionPositionMap[direction],\n            ...textSmallStyle,\n            listStyleType: 'none',\n            color: primaryColor,\n            whiteSpace: 'inherit',\n            borderRadius: borderRadiusSmall,\n            ...(isHighContrastMode && {\n                outline: `1px solid ${canvasTextColor}`,\n            }),\n            ...prefersColorSchemeDarkMediaQuery(theme, {\n                background: backgroundSurfaceColorDark,\n                color: primaryColorDark,\n            }),\n        },\n        '@keyframes fadeIn': {\n            from: {\n                opacity: 0,\n            },\n            to: {\n                opacity: 1,\n            },\n        },\n    });\n};\n","import { attachComponentCss, isClickOutside } from '../../utils';\nimport { getComponentCss } from './popover-styles';\nexport const POPOVER_DIRECTIONS = ['top', 'right', 'bottom', 'left'];\nexport const POPOVER_ARIA_ATTRIBUTES = ['aria-label'];\nexport const safeZonePx = 16;\nexport const updatePopoverStyles = (host, spacer, popover, direction, isNative = false, theme) => {\n    // Reset margin so that it can be recalculated correctly\n    popover.style.margin = '0';\n    if (!isElementWithinViewport(spacer, popover, direction)) {\n        direction = getAutoDirection(spacer, popover);\n        attachComponentCss(host, getComponentCss, direction, isNative, theme);\n    }\n    // Set margin via inline style to make attachComponentCss cacheable\n    popover.style.margin = getPopoverMargin(spacer, popover, direction);\n};\nexport const updateNativePopoverStyles = (nativePopover, nativeButton) => {\n    const { left, top, width, height } = nativeButton.getBoundingClientRect();\n    nativePopover.style.left = `${left + window.scrollX - safeZonePx}px`;\n    nativePopover.style.top = `${top + window.scrollY - safeZonePx}px`;\n    nativePopover.style.width = `${width + safeZonePx * 2}px`;\n    nativePopover.style.height = `${height + safeZonePx * 2}px`;\n};\nconst getDocumentHeightWidthWithoutSafeZone = () => {\n    const { clientWidth, clientHeight } = document.documentElement;\n    return { clientWidth: clientWidth - safeZonePx, clientHeight: clientHeight - safeZonePx };\n};\nexport const isElementWithinViewport = (spacer, popover, direction) => {\n    const { clientWidth, clientHeight } = getDocumentHeightWidthWithoutSafeZone();\n    const spacerRect = spacer.getBoundingClientRect();\n    const popoverRect = popover.getBoundingClientRect();\n    const isWithinXAxis = spacerRect.left >= safeZonePx && spacerRect.right <= clientWidth;\n    const isWithinYAxis = spacerRect.top >= safeZonePx && spacerRect.bottom <= clientHeight;\n    switch (direction) {\n        case 'top':\n            return isWithinXAxis && popoverRect.top >= safeZonePx;\n        case 'right':\n            return isWithinYAxis && popoverRect.right <= clientWidth;\n        case 'bottom':\n            return isWithinXAxis && popoverRect.bottom <= clientHeight;\n        case 'left':\n            return isWithinYAxis && popoverRect.left >= safeZonePx;\n    }\n};\nexport const calcSpaceForDirections = (spacer, popover) => {\n    const { clientWidth, clientHeight } = document.documentElement;\n    const spacerRect = spacer.getBoundingClientRect();\n    const popoverRect = popover.getBoundingClientRect();\n    // determine the **theoretically** maximum available space in all directions within viewport\n    return {\n        top: spacerRect.top - popoverRect.height,\n        right: clientWidth - (spacerRect.right + popoverRect.width),\n        bottom: clientHeight - (spacerRect.bottom + popoverRect.height),\n        left: spacerRect.left - popoverRect.width,\n    };\n};\nexport const getAutoDirection = (spacer, popover) => {\n    const directionSpaces = calcSpaceForDirections(spacer, popover);\n    // Find direction with the most space\n    return Object.keys(directionSpaces).reduce((resultDirection, currentDirection) => directionSpaces[resultDirection] >= directionSpaces[currentDirection] ? resultDirection : currentDirection, 'bottom');\n};\nexport const getPopoverMargin = (spacer, popover, direction\n// @ts-expect-error: Not all code paths return a value\n) => {\n    const { clientWidth, clientHeight } = getDocumentHeightWidthWithoutSafeZone();\n    const spacerRect = spacer.getBoundingClientRect();\n    const popoverRect = popover.getBoundingClientRect();\n    // check x-axis offset is relevant for popover\n    if (['top', 'bottom'].includes(direction) && popoverRect.width > spacerRect.width) {\n        // check if popover exceeds left side of viewport\n        if (popoverRect.left < safeZonePx) {\n            return `0 0 0 ${Math.min(safeZonePx - popoverRect.left, spacerRect.left - popoverRect.left)}px`;\n        }\n        // check if popover exceeds right side of viewport\n        else if (popoverRect.right > clientWidth) {\n            return `0 0 0 ${Math.max(clientWidth - popoverRect.right, spacerRect.right - popoverRect.right)}px`;\n        }\n    }\n    // check y-axis offset is relevant for popover\n    else if (['left', 'right'].includes(direction) && popoverRect.height > spacerRect.height) {\n        // check if popover exceeds top side of viewport\n        if (popoverRect.top < safeZonePx) {\n            return `${Math.min(safeZonePx - popoverRect.top, spacerRect.top - popoverRect.top)}px 0 0 0`;\n        }\n        // check if popover exceeds bottom side of viewport\n        else if (popoverRect.bottom > clientHeight) {\n            return `${Math.max(clientHeight - popoverRect.bottom, spacerRect.bottom - popoverRect.bottom)}px 0 0 0`;\n        }\n    }\n    else {\n        return '0';\n    }\n};\nexport const registeredPopovers = [];\nexport const addDocumentEventListener = (popover) => {\n    if (!registeredPopovers.includes(popover)) {\n        registeredPopovers.push(popover);\n        document.addEventListener('mousedown', onDocumentMousedown); // multiple calls don't add multiple listeners\n        document.addEventListener('keydown', onDocumentKeydown); // multiple calls don't add multiple listeners\n    }\n};\nexport const removeDocumentEventListener = (popover) => {\n    const index = registeredPopovers.indexOf(popover);\n    if (index > -1) {\n        registeredPopovers.splice(index, 1);\n    }\n    if (registeredPopovers.length === 0) {\n        document.removeEventListener('mousedown', onDocumentMousedown);\n        document.removeEventListener('keydown', onDocumentKeydown);\n    }\n};\nexport const onDocumentMousedown = (e) => {\n    const popover = registeredPopovers.find((popoverItem) => popoverItem.open && isClickOutside(e, popoverItem.host));\n    if (popover) {\n        popover.open = false;\n    }\n};\nexport const onDocumentKeydown = (e) => {\n    const { key } = e;\n    const isEscape = key === 'Escape';\n    if (isEscape || key === 'Enter' || key === 'SpaceBar' || key === ' ') {\n        const popover = registeredPopovers.find((popoverItem) => popoverItem.open && (isEscape || isClickOutside(e, popoverItem.host)));\n        if (popover) {\n            popover.open = false;\n        }\n    }\n};\n","import mod from \"-!../../../../storefront/node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../storefront/node_modules/thread-loader/dist/cjs.js!../../../../storefront/node_modules/babel-loader/lib/index.js!../../../../storefront/node_modules/ts-loader/index.js??ref--14-3!../../../../storefront/node_modules/vue-loader/lib/index.js!../../../../../node_modules/vmark-loader/index.js!./popover.examples.md?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../storefront/node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../storefront/node_modules/thread-loader/dist/cjs.js!../../../../storefront/node_modules/babel-loader/lib/index.js!../../../../storefront/node_modules/ts-loader/index.js??ref--14-3!../../../../storefront/node_modules/vue-loader/lib/index.js!../../../../../node_modules/vmark-loader/index.js!./popover.examples.md?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./popover.examples.md?vue&type=template&id=477d1351\"\nimport script from \"./popover.examples.md?vue&type=script&lang=ts\"\nexport * from \"./popover.examples.md?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../storefront/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}