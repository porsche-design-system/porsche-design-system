import { TableOfContents } from '@/components/common/TableOfContents';

export const metadata = {
  title: 'Theme - Porsche Design System',
  description: 'Learn how to use the theming of the Porsche Design System.',
};

# Theme

<TableOfContents headings={['How it works', 'Defining themes']} />

The Porsche Design System is built for theming. It defines color tokens with CSS
[`light-dark()`](https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Values/color_value/light-dark), controlled
by [`color-scheme`](https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Properties/color-scheme). The CSS
[`light-dark()`](https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Values/color_value/light-dark) function is
supported in all modern browsers. For older browsers, we ship a polyfill so the same color tokens still resolve
correctly. See browser support: https://caniuse.com/wf-light-dark

The mandatory [Global Styles](/styles/introduction) provide the shared CSS variables consumed by all components.

## How it works

The system relies on two key CSS features:

**CSS Variables**: [Global Styles](/styles/introduction) define color variables using `light-dark()`, for example:

```css
:root {
  --p-color-primary: light-dark(white, black);
}
```

**Color Scheme**: The `color-scheme` CSS property determines which value `light-dark()` uses. We provide CSS classes
with a polyfill defined in [Global Styles](/styles/introduction):

- `.scheme-light` — light mode (first value)
- `.scheme-dark` — dark mode (second value)
- `.scheme-light-dark` — auto dark mode (respects OS preference)

Components automatically adapt to the current theme by referencing CSS variables that respond to the `color-scheme`
setting.

## Defining themes

To define which theme your application should use, set the `color-scheme` property on the `:root` selector in your
global CSS:

```css
/* Defines the theme for all components */
:root {
  color-scheme: light;
}
```

You can also scope the theme to specific sections of your application by applying `color-scheme` to a container element:

```html
<!-- Defines the theme for all components nested within -->
<html style="color-scheme: dark">
  <body>
    <!-- All components inside will use the dark theme -->
    <div style="color-scheme: light">
      <!-- All components inside will use the light theme -->
    </div>
  </body>
</html>
```

In order to implement a theme switch, simply set a class which defines the corresponding `color-scheme` (Tailwind
provides these classes out of the box):

```css
.scheme-light {
  color-scheme: light;
}

.scheme-dark {
  color-scheme: dark;
}

.scheme-light-dark {
  color-scheme: light dark;
}
```

This approach provides native browser support for theming and respects user preferences when using
`color-scheme: light dark`.
