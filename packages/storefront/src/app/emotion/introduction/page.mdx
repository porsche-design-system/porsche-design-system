import { TableOfContents } from '@/components/common/TableOfContents';
export const metadata = {
  title: 'Emotion: Introduction - Porsche Design System',
  description: 'Learn about the foundational Emotion styles of our design language and how to use it.',
};

# Introduction

<TableOfContents headings={['Styles', 'Setup', 'Color Scheme']} />

## Styles

Styles are the foundational layer of our design language and define basics like colors in different themes, typography
and other effects that can be applied to objects; or to define the structure and appearance with layout grid and
spacings.

You should only use the styles whenever you have to build a custom component or pattern that is not yet available in the
components library or for foundational layout objects like typography, surfaces and boxes.

- [Blur](/emotion/blur/examples)
- [Border](/emotion/border/examples)
- [Color](/emotion/color/examples)
- [Focus](/emotion/focus/examples)
- [Gradient](/emotion/gradient/examples)
- [Grid](/emotion/grid/examples)
- [Media Query](/emotion/media-query/examples)
- [Motion](/emotion/motion/examples)
- [Shadow](/emotion/shadow/examples)
- [Skeleton](/emotion/skeleton/examples)
- [Spacing](/emotion/spacing/examples)
- [Typography](/emotion/typography/examples)

## Setup

### 1. Install Emotion

Follow the official installation guide:

[Install Emotion Documentation](https://emotion.sh/docs/install)

### 2. Import the Porsche Design System Emotion Styles

Use the following path to import the styles:

```js
import { … } from '@porsche-design-system/components-{js|angular|react|vue}/emotion';
```

### 3. Include the Color Scheme global styles

Include the `colorSchemeStyles` in your global styles to enable the color scheme utilities and add a polyfill for
browsers that don’t yet support `light-dark()`. See the [Color Scheme](#color-scheme) section for details.

```jsx
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import { colorSchemeStyles } from '@porsche-design-system/components-{js|angular|react|vue}/emotion';
import { Global } from '@emotion/react';

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <Global styles={colorSchemeStyles} />
    ...
  </StrictMode>
);
```

## Color Scheme

The color system leverages the CSS
[`light-dark()`](https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Values/color_value/light-dark) function to
deliver native, preference-based theming. By adopting this browser-native engine, we have eliminated the need for
proprietary switching logic, resulting in a more performant and standardized architecture.

### Core Implementation

All colors and styles are driven by the CSS
[`color-scheme`](https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Properties/color-scheme) property. To ensure
broad compatibility, we provide the global `colorSchemeStyles`, which generates utility classes and includes a polyfill
for browsers that do not yet support `light-dark()` (see
[browser support](https://caniuse.com/mdn-css_types_color_light-dark)).

#### Utility Classes

Apply these classes to the document or any container to control the theme context:

- `.scheme-light` — Forces light mode.
- `.scheme-dark` — Forces dark mode.
- `.scheme-light-dark` — Dynamically follows system/OS settings.

### Usage

#### 1. Global Setup

Include the global styles once in your `main.tsx` to initialize the theme utilities.

```diff
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import './index.css';
import { PorscheDesignSystemProvider } from '@porsche-design-system/components-react';
import { App } from './App.tsx';
+ import { colorSchemeStyles } from '@porsche-design-system/components-react/emotion';
+ import { Global } from '@emotion/react';

createRoot(document.getElementById('root')!).render(
  <StrictMode>
+   <Global styles={colorSchemeStyles} />
    <PorscheDesignSystemProvider>
      <App />
    </PorscheDesignSystemProvider>
  </StrictMode>
);

```

#### 2. Component Implementation

Utilize the new tokens within your styles. These variables automatically resolve to the correct value based on the
active theme.

```tsx
import styled from '@emotion/styled';
import { colorFrosted, colorPrimary } from '@porsche-design-system/components-react/emotion';

const MyComponent = styled.div({
  backgroundColor: colorFrosted,
  color: colorPrimary,
});
```

#### 3. Application

The defined theme context will cascade to all child elements.

```tsx
import { MyComponent } from './MyComponent';

<!-- Defined theme will be applied to all child elements -->
export const App = () => {
  return (
    <div className="scheme-dark">
      <MyComponent></MyComponent>
    </div>
  );
};

```
