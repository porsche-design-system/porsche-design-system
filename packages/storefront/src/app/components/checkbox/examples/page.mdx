import { ComponentStatus } from '@/components/components/ComponentStatus';
import { TableOfContents } from '@/components/common/TableOfContents';
import { ComponentExample } from '@/components/playground/ComponentExample';
import { checkboxExampleForm } from '@porsche-design-system/shared/examples';
import {
  checkboxStoryIndeterminate,
  checkboxStorySlots,
  checkboxStoryWrappedLabel,
} from '@/app/components/checkbox/checkbox.stories';
import { ComponentStory } from '@/components/playground/ComponentStory';
import { Notification } from '@/components/common/Notification';

export const metadata = {
  title: 'Checkbox - Porsche Design System',
  description: 'Discover detailed examples and insights of the Checkbox component.',
};

# Checkbox <ComponentStatus tagName="p-checkbox"></ComponentStatus>

<TableOfContents headings={['Form', 'Indeterminate', 'Slots', 'Custom wrapped label (ðŸ§ªExperimental)']} />

## Form

The `p-checkbox` can be integrated into a form in two ways: **controlled** or **uncontrolled**, depending on your needs.

In the **controlled** approach, the checkbox state is externally managed using the `checked` property and `change` event
to keep it in sync with your application logic. This approach is ideal for complex forms or when using a form library.
Note that the component will still always update its internal value automatically when interacted with.

In the **uncontrolled** approach, the checkbox behaves similar to a native `<input type="checkbox" />`, automatically
managing its own state and including its value in form submissions through the
[ElementInternals](https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals) API. This is convenient for
smaller forms or simple submissions.

For more details on form integration, refer to the `Form` section in the
[developing documentation](/developing/introduction) for your framework of choice, or find a full form integration
example in our [examples repository](https://github.com/porsche-design-system/examples/tree/v3/frameworks).

<ComponentExample codeSample={checkboxExampleForm} />

## Indeterminate

Mask the visual appearance of a checkbox which has a state in-between checked and unchecked. This is especially useful
for a checkbox that is used to set the state of a group of checkboxes at once. However, this group might have a mixed
state. In this case we recommend to use `checked=false` and `indeterminate=true`.

**Note: The `indeterminate` attribute only affects how the checkbox is shown. The current value is hidden from the user,
but the checkbox still keeps it's `checked` state. You can find more details in
[the specification](https://w3.org/TR/html52/sec-forms.html#dom-htmlinputelement-indeterminate).**

<ComponentStory story={checkboxStoryIndeterminate} />

## Slots

Sometimes it's useful to render custom markup for `label` or `message`. Therefore, named slots can be used. Make sure
**not** to define the corresponding property on the host element when a named slot is used (because a property
definition is preferred over a named slot). For named slots only
[phrasing content](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content) is
allowed.

In addition to the named slots `label` and `message`, there is also a `label-after` slot available. This slot must be
used to render content after the label which is not directly part of it (e.g. an external link or a `popover`
component).

<Notification heading="Attention" heading-tag="h3" state="warning">
  If the <code>component</code> is in <code>disabled/loading</code> state
  <strong>and</strong> <code>label</code> or <code>label-after</code> slots are used with focusable UI elements (e.g.
  <code>a</code> or <code>p-popover</code>), the keyboard focus handling has to be managed manually to prevent focusing
  disabled elements (e.g. add <code>tabindex="-1"</code> on those UI elements).
</Notification>

<ComponentStory story={checkboxStorySlots} />

## Custom wrapped label (ðŸ§ªExperimental)

The `p-checkbox` component also supports a custom wrapped `label` by just wrapping the component within a `label` tag.
This approach can be used if the `label` must be placed individually. The contents of the wrapping `label` must only
contain raw text elements. If using this approach, the **styling and click functionality of the `label` must be
controlled by the integrating team**. To prevent the `p-checkbox` from receiving focus when the wrapping label is
clicked, call `event.preventDefault()` in the labelâ€™s click handler.

<ComponentStory story={checkboxStoryWrappedLabel} />
