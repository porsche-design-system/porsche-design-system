import { TableOfContents } from "@/components/common/TableOfContents";
import {PartialDocs} from "@/components/partials/PartialDocs";

export const metadata = {
  title: 'Partials: DSR Ponyfill - Porsche Design System',
  description: 'Learn how to use the DSR Ponyfill in your SSR app.',
}

# Dsr Ponyfill

<TableOfContents headings={["Supported options","Examples"]} />

**Function name:** `getDSRPonyfill()`

In SSR projects like NextJS, the Porsche Design System components are getting rendered on the server using native web
platform API called [Declarative Shadow DOM (DSR)](https://web.dev/declarative-shadow-dom). The
[browser support](https://caniuse.com/?search=declarative%20shadow%20dom) is already good but still limited.

Therefore, we provide a partial in `@porsche-design-system/components-react` package based on
[@webcomponents/template-shadowroot](https://npmjs.com/package/@webcomponents/template-shadowroot) which needs to be
injected before the closing `</body>` of your `index.html`.

## Supported options

| Option   | Description                                                                                                                                                                                                                                                                  | Type                        | Default  |
| -------- |------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| --------------------------- | -------- |
| `format` | Defines the output format of the partial. By default, it returns a html string. For `jsx` it returns a jsx element. For `sha256` it returns a SHA-256 hash of the innerHTML to use in a [Content Security Policy (CSP)](/must-know/security/content-security-policy/). | `'html' \| 'jsx' \| 'sha256'` | `'html'` |

When using `jsx` in the `format` option, it is necessary to have `react/jsx-runtime` as a dependency in the project
included.

## Examples

Project integration differs based on the project setup.
The following showcases the most common ways.

<PartialDocs name="getDSRPonyfill" location="body" partialCalls={[
  {
    params: []
  }
]} />
