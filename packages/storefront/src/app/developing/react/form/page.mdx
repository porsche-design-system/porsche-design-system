import { TableOfContents } from '@/components/common/TableOfContents';
import { PLinkPure } from '@porsche-design-system/components-react/ssr';
import Link from 'next/link';

export const metadata = {
  title: 'React: Form - Porsche Design System',
  description: 'Form integration in React with the Porsche Design System.',
};

# React

<TableOfContents
  headings={['Form Integration Demo', 'Manual State Management (Preferred)', 'Native Form Submission']}
/>

Porsche Design System form components can be integrated into React using different techniques based on your state
management and form handling preferences. Each component automatically keeps its internal value in sync, similar to
native form elements.

All form components support:

- **Manual State Management (Props + Events)** using `value`/`checked` properties and `change`/`input`/`blur` event
  listeners
- **Native form submission** using form-associated custom elements

## Form Integration Demo

A complete example of how to integrate form components with React can be explored here:

<div className="flex flex-wrap gap-static-md mt-fluid-lg">
  <PLinkPure icon="external">
    {/* prettier-ignore */}
    <Link href="https://github.com/porsche-design-system/examples/tree/main/frameworks/react">Source Code</Link>
  </PLinkPure>
  <PLinkPure icon="external">
    <Link href="https://porsche-design-system.github.io/examples/react">View Fullscreen</Link>
  </PLinkPure>
</div>

<iframe
  className="my-fluid-md w-full aspect-3/2 rounded-lg shadow-high"
  title="React: Demo application"
  src="https://porsche-design-system.github.io/examples/react"
/>

## Manual State Management (Preferred)

While all custom form components update their internal state automatically, you can manage their values externally using
the `value` or `checked` props along with `input`, `change`, and `blur` events. This approach allows flexible
integration with any form library.

```javascript
const [value, setValue] = useState<PInputTextProps['value']>('');

const onInput = (e: CustomEvent<InputTextInputEventDetail>) => {
  setValue(e.target.value);
};
...
<PInputText name="myInputText" label="Some Label" value={value} onInput={onInput} />
```

## Native Form Submission

All custom form components are form-associated custom elements that integrate seamlessly with forms. Leveraging the
[ElementInternals](https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals) API, They will work like their
native counterparts, ensuring compatibility with form behaviors.

```javascript
const onSubmit = (e: FormEvent<HTMLFormElement>) => {
  console.log(e);
};
...
<form onSubmit={onSubmit}>
  <PInputText name="myInputText" label="Some Label"></PInputText>
  <PButton type="submit">Submit</PButton>
</form>
```
