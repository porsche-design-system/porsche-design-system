import { Notification } from '@/components/common/Notification';
import { TableOfContents } from '@/components/common/TableOfContents';
import { PTag } from '@porsche-design-system/components-react/ssr';
import { localPorscheDesignSystemMajorVersion } from '@/utils/porscheDesignSystemVersion';

export const metadata = {
  title: 'Vanilla JS: Getting started - Porsche Design System',
  description: 'Start developing in Vanilla JS with the Porsche Design System.',
};

# Vanilla Js

<TableOfContents headings={['Quick start', 'Integration']} />

## Quick start

To build a Vanilla JS application using the Porsche Design System, follow these steps. This guide is based on the
following dependencies:

<div className="flex flex-wrap gap-static-sm my-fluid-sm">
  {/* prettier-ignore */}
  <PTag compact={true} color="notification-info-soft">vite@7</PTag>
  {/* prettier-ignore */}
  <PTag compact={true} color="notification-info-soft">tailwindcss@4</PTag>
  {/* prettier-ignore */}
  <PTag compact={true} color="notification-info-soft">@porsche-design-system/components-js@{localPorscheDesignSystemMajorVersion}</PTag>
</div>

```bash
# Create a new application by executing:
npm create vite@latest my-app -- --template vanilla-ts
```

You're all set! Start building your own application now.

## Integration

### Step 1

Install the Porsche Design System within your project directory.

```bash
npm install @porsche-design-system/components-js
```

### Step 2

Create a `vite.config.ts` file in your project directory and integrate the Porsche Design System Loader into the
`<body>` section of your HTML.

```tsx
// vite.config.ts

import { defineConfig } from 'vite';
import { getLoaderScript } from '@porsche-design-system/components-js/partials';

const transformIndexHtmlPlugin = () => {
  return {
    name: 'html-transform',
    transformIndexHtml(html: string) {
      const bodyPartials = [getLoaderScript()].join('');

      return html.replace(/<\/body>/, `${bodyPartials}$&`);
    },
  };
};

export default defineConfig({
  plugins: [transformIndexHtmlPlugin()],
});
```

### Step 3

Add the Porsche Design System stylesheet to your main CSS file. This single import already includes all required and
recommended styles, such as:

- CSS color variables
- Font-face definitions
- Normalize styles

If your website will be used primarily in China, use the `/cn` import. See
[China CDN](/must-know/performance/cdn/#china-cdn) for more details.

See [Global Styles](/global-styles/introduction/) for more details.

```diff
/* src/style.css */
+ @import '@porsche-design-system/components-js';
```

To prevent Flash of Unstyled Content (FOUC), hide elements until they are either registered
([`:defined`](https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/:defined)) or fully rendered by
Stencil ([`.hydrated`](https://stenciljs.com/docs/config#hydratedflag)). If you encounter any problems with the
`:defined` pseudo-class, consider applying the style only to the relevant tags (`:is(p-button...)`). See
[Initialization](/must-know/initialization/vanilla-js/#preparation) for more details.

```diff
/* src/style.css */
@import '@porsche-design-system/components-js';

+ :not(:defined) {
+   visibility: hidden;
+ }
```

### Step 4 (recommended)

To boost your web application's performance, you can integrate [Partials](/partials/introduction) from the Porsche
Design System into the `<head>` section of your HTML.

```tsx
// vite.config.ts

import { defineConfig } from 'vite';
import {
  getLoaderScript,
  getComponentChunkLinks,
  getFontLinks,
  getIconLinks,
  getMetaTagsAndIconLinks,
} from '@porsche-design-system/components-js/partials';

const transformIndexHtmlPlugin = () => {
  return {
    name: 'html-transform',
    transformIndexHtml(html: string) {
      const headPartials = [
        // preloads Porsche Next font (=> minimize FOUT)
        getFontLinks(),
        // preloads PDS component core chunk from CDN for PDS component hydration (=> improve loading performance)
        getComponentChunkLinks(),
        // preloads Porsche icons (=> minimize FOUC)
        getIconLinks(),
        // injects favicon, apple touch icons, android touch icons, etc.
        getMetaTagsAndIconLinks({ appTitle: 'Porsche' }),
      ].join('');

      const bodyPartials = [getLoaderScript()].join('');

      return html.replace(/<\/head>/, `${headPartials}$&`).replace(/<\/body>/, `${bodyPartials}$&`);
    },
  };
};

export default defineConfig({
  plugins: [transformIndexHtmlPlugin()],
});
```

### Step 5 (recommended)

Setting up [Tailwind CSS](https://tailwindcss.com) with the Porsche Design System
[Tailwind CSS Theme](/tailwindcss/introduction) allows you to use a utility-first CSS framework that guarantees
**seamless styling consistency** with Porsche's design principles.

#### The Key Advantage: Universal Code Sharing & Scalability

> Using Tailwind CSS with the Porsche Design System Theme provides a powerful benefit: **Your styles are truly
> framework-agnostic**. Since Tailwind generates atomic **utility classes**, you eliminate cascading style issues,
> promoting long-term **scalability and maintainability** for large projects. The patterns and components you build are
> easily portable. You can **copy and paste** the same styling code between projects, teams, and different technology
> stacks (React, Angular, Vue, plain HTML, etc.), ensuring **100% visual uniformity** across the organization. You can
> now use and customize the provided [Patterns](/patterns) and [Templates](/templates), which are all written in
> Tailwind CSS, to build applications quickly and efficiently.

Install Tailwind CSS within your project directory.

```bash
npm install tailwindcss @tailwindcss/vite
```

Configure the Vite Tailwind CSS plugin.

```tsx
// vite.config.ts

import { defineConfig } from 'vite';
import tailwindcss from '@tailwindcss/vite';

const transformIndexHtmlPlugin = () => { … }

export default defineConfig({
  plugins: [transformIndexHtmlPlugin(), tailwindcss()],
});
```

Import Tailwind CSS and the Porsche Design System Tailwind CSS Theme.

```diff
/* src/style.css */
@import '@porsche-design-system/components-js';

+ @import 'tailwindcss';
+ @import '@porsche-design-system/components-js/tailwindcss';
```

### Step 6

Add a Porsche Design System component (e.g., `<p-wordmark></p-wordmark>`) with some Tailwind CSS styles. Then, run
`npm run dev` and verify that the component and styles display correctly.

```ts
// src/main.ts

import './style.css';

document.querySelector<HTMLDivElement>('#app')!.innerHTML = `
  <div class="grid justify-items-center gap-fluid-md m-static-lg p-fluid-lg bg-surface rounded-lg">
    <p-wordmark></p-wordmark>
    <h1 class="prose-display-md">Porsche Design System</h1>
  </div>
  <div class="…">…</div>
`;
```
