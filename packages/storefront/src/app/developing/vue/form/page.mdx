import { TableOfContents } from '@/components/common/TableOfContents';
import { PLinkPure } from '@porsche-design-system/components-react/ssr';
import Link from 'next/link';

export const metadata = {
  title: 'Vue: Form - Porsche Design System',
  description: 'Form integration in Vue with the Porsche Design System.',
};

# Vue

<TableOfContents headings={[]} />

Integrating Porsche Design System form components in Vue can be done in several ways — depending on your preferred state
management approach and form handling strategy.

All form components support:

- **Two-way binding** using `v-model:property` directive (e.g. `v-model:value` or `v-model:checked`)
- **Controlled behavior** using `value`/`checked` properties and `change`/`input`/`blur` event listeners
- **Native form submission** through the built-in Form-associated custom elements API

Below you’ll find a demo and examples for each approach.

A complete example of how to integrate form components with Vue can be explored here:

<div className="flex flex-wrap gap-static-md mt-fluid-lg">
  <PLinkPure icon="external">
    {/* prettier-ignore */}
    <Link href="https://github.com/porsche-design-system/examples/tree/main/frameworks/vue">Source Code</Link>
  </PLinkPure>
  <PLinkPure icon="external">
    <Link href="https://porsche-design-system.github.io/examples/vue">View Fullscreen</Link>
  </PLinkPure>
</div>

<iframe
  className="my-fluid-md w-full aspect-3/2 rounded-lg shadow-high"
  title="Vue: Demo application"
  src="https://porsche-design-system.github.io/examples/vue"
/>

## Vue v-model

All custom form components support [`v-model`](https://vuejs.org/guide/components/v-model) for seamless two-way data
binding with your model. Because our components don’t use the default `modelValue` property, you need to explicitly
specify which property should be bound to the model by using an argument — for example, `v-model:value` or
`v-model:checked`.

For example, to bind a model to the `p-input-text` component:

```vue
<template>
  <PInputText v-model:value="myInputText" :name="'myInputText'" :label="'Some Label'" />
</template>

<script setup lang="ts">
  import { PInputText } from '@porsche-design-system/components-vue';
  import { ref } from 'vue';

  const myInputText = ref('');
</script>
```

## Controlled

While all custom form components update their internal state automatically, you can manage their values externally using
the `value` or `checked` props along with `input`, `change`, and `blur` events. This approach allows flexible
integration with any form library.

```vue
<template>
  <PInputText :name="'some-name'" :label="'Some Label'" :value="value" @input="onInput" />
</template>

<script setup lang="ts">
  import { type InputTextInputEventDetail, PInputText, PText } from '@porsche-design-system/components-vue';
  import { computed, ref } from 'vue';

  const value = ref<string>('');

  const onInput = (e: InputTextInputEventDetail) => {
    value.value = (e.target as HTMLInputElement).value;
  };
</script>
```

## Native Form Submission

All custom form components are form-associated custom elements that integrate seamlessly with forms. Leveraging the
[ElementInternals](https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals) API, They will work like their
native counterparts, ensuring compatibility with form behaviors. However, note that browser support for this API is
limited.

```vue
<template>
  <form @submit.prevent="onSubmit">
    <PInputText :name="'myInputText'" :label="'Some Label'" />
    <PButton type="submit">Submit</PButton>
  </form>
</template>

<script setup lang="ts">
  import { PButton, PInputText, PText } from '@porsche-design-system/components-vue';
  const onSubmit = (e: Event) => {
    console.log(e);
  };
</script>
```
