import { TableOfContents } from '@/components/common/TableOfContents';
import { PTag } from '@porsche-design-system/components-react/ssr';

export const metadata = {
  title: 'Angular: Getting started - Porsche Design System',
  description: 'Start developing in Angular with the Porsche Design System.',
};

# Angular

<TableOfContents headings={['Quick start', 'Integration']} />

## Quick start

To build an [Angular](https://angular.dev/installation) application using Porsche Design System Components, follow these
steps. This guide is based on the following dependencies:

<div className="flex flex-wrap gap-static-sm my-fluid-sm">
  {/* prettier-ignore */}
  <PTag compact={true} color="notification-info-soft">@angular/*@20</PTag>
  {/* prettier-ignore */}
  <PTag compact={true} color="notification-info-soft">tailwindcss@4</PTag>
  {/* prettier-ignore */}
  <PTag compact={true} color="notification-info-soft">@porsche-design-system/components-angular@3</PTag>
</div>

```bash
# Create a new application by executing:
npm install -g @angular/cli
ng new my-app

✔ Do you want to create a 'zoneless' application without zone.js (Developer Preview)? "Yes"
✔ Which stylesheet format would you like to use? "CSS"
✔ Do you want to enable Server-Side Rendering (SSR) and Static Site Generation (SSG/Prerendering)? "No"
```

You're all set! Start building your own application now.

## Integration

### Step 1

Install the Porsche Design System within your project directory.

```bash
npm install @porsche-design-system/components-angular
```

### Step 2

Add the `PorscheDesignSystemModule` to the imports array of your `@Component` or `@NgModule` declaration.

```ts
// src/app/app.ts

import { Component, signal } from '@angular/core';
import { RouterOutlet } from '@angular/router';
import { PorscheDesignSystemModule } from '@porsche-design-system/components-angular';

@Component({
  selector: 'app-root',
  imports: [RouterOutlet, PorscheDesignSystemModule],
  templateUrl: './app.html',
  styleUrl: './app.css',
})
export class App {
  protected readonly title = signal('angular');
}
```

### Step 3 (recommended)

Integrate Porsche Design System [Partials](/partials/introduction) to boost performance, reduce loading times, and
minimize FOUC/FOUT.

Install
[@angular-builders/custom-webpack](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack#index-transform)
within your project directory.

```bash
yarn add --dev @angular-builders/custom-webpack
```

Configure the `angular.json`.

```diff
"architect": {
  "build": {
-   "builder": "@angular/build:application",
+   "builder": "@angular-builders/custom-webpack:browser",
    "options": {
-     "browser": "src/main.ts",
+     "indexTransform": "./index-html-transform.js",
+     "outputPath": "./dist",
+     "index": "src/index.html",
+     "main": "src/main.ts",
    }
  }
  "serve": {
-   "builder": "@angular/build:dev-server",
+   "builder": "@angular-builders/custom-webpack:dev-server",
```

Create a `index-html-transform.js` file in your project root directory.

```js
// index-html-transform.js

const partials = require('@porsche-design-system/components-angular/partials');

// https://github.com/just-jeb/angular-builders/blob/fdd7c8ed00b7eb7e1761aaa6cb5bda41693ceb5d/packages/custom-webpack/README.md#index-transform
module.exports = (_, html) => {
  const headPartials = [
    // injects stylesheet which defines visibility of pre-hydrated PDS components
    partials.getInitialStyles(),
    // injects stylesheet which defines Porsche Next CSS font-face definition (=> minimize FOUT)
    partials.getFontFaceStyles(),
    // preloads Porsche Next font (=> minimize FOUT)
    partials.getFontLinks(),
    // preloads PDS component core chunk from CDN for PDS component hydration (=> improve loading performance)
    partials.getComponentChunkLinks(),
    // preloads Porsche icons (=> minimize FOUC)
    partials.getIconLinks(),
    // injects favicon, apple touch icons, android touch icons, etc.
    partials.getMetaTagsAndIconLinks({ appTitle: 'Porsche' }),
  ].join('');

  return html.replace(/<\/head>/, `${headPartials}$&`);
};
```

### Step 4 (recommended)

Set up Tailwind CSS with the Porsche Design System [Tailwind CSS Theme](/tailwindcss/introduction) to ensure seamless
styling consistency with Porsche's design principles.

Install Tailwind CSS within your project directory.

```bash
npm install tailwindcss @tailwindcss/postcss postcss
```

Create a `.postcssrc.json` file in your project root directory.

```json
// .postcssrc.json

{
  "plugins": {
    "@tailwindcss/postcss": {}
  }
}
```

Import Tailwind CSS and the Porsche Design System Tailwind CSS Theme.

```css
/* src/styles.css */

@import 'tailwindcss';
@import '@porsche-design-system/components-react/tailwindcss';
```

### Step 5

Add a Porsche Design System component (e.g., `<p-wordmark></p-wordmark>`) with some Tailwind CSS styles. Then, run
`npm run start` and verify that the component and styles display correctly.

```html
<!-- src/app/app.html -->

<div class="grid justify-items-center gap-fluid-md m-static-lg p-fluid-lg bg-surface rounded-lg">
  <p-wordmark></p-wordmark>
  <h1 class="prose-display-md">Porsche Design System</h1>
</div>
<div class="…">…</div>
```
