<p-table></p-table>

<script>
  fetch('assets/shared.js')
    .then((res) => res.text())
    .then((content) => {
      const [, headStr] = /const headBasic = ((.|\s)*?);/.exec(content) || [];
      const head = eval(headStr);

      const [, dataStr] = /const dataBasic = ((.|\s)*?);/.exec(content) || [];
      const data = eval(dataStr);

      const renderTableHeadCells = (items) =>
        items.map((item) => `<p-table-head-cell>${item}</p-table-head-cell>`).join('');

      const renderTableBodyRows = (items) =>
        items
          .map(
            (item) => `
<p-table-row>
  <p-table-cell>${item.model}</p-table-cell>
  <p-table-cell>${item.date}</p-table-cell>
  <p-table-cell>${item.interest}</p-table-cell>
  <p-table-cell>${item.status}</p-table-cell>
  <p-table-cell>${item.leadId}</p-table-cell>
</p-table-row>`
          )
          .join('');

      const markup = `
<p-table-head>
  <p-table-head-row>${renderTableHeadCells(head)}</p-table-head-row>
</p-table-head>
<p-table-body>${renderTableBodyRows(data)}</p-table-body>`;

      document.querySelector('p-table').innerHTML = markup;
    });
</script>
