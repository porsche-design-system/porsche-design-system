<p-select name="selected-slot-select" label="Selected Slot">
  <span slot="selected" class="h-full flex items-center gap-fluid-sm grow"></span>
</p-select>

<script>
  const options = [
    {
      value: '718',
      label: '718',
      description: 'PrÃ¤ziser Sportwagen mit Mittelmotor',
      tags: ['Benzin'],
      imgSrc: 'http://localhost:3002/718.png',
    },
    {
      value: '911',
      label: '911',
      description: 'Ikonischer Sportwagen mit Heckmotor',
      tags: ['Benzin'],
      imgSrc: 'http://localhost:3002/911.png',
    },
    {
      value: 'taycan',
      label: 'Taycan',
      description: 'Elektrischer Sportwagen',
      tags: ['Elektro'],
      imgSrc: 'http://localhost:3002/taycan.png',
    },
    {
      value: 'macan',
      label: 'Macan',
      tags: ['Elektro'],
      description: 'Sportlicher Kompakt-SUV',
      imgSrc: 'http://localhost:3002/macan.png',
    },
    {
      value: 'cayenne',
      label: 'Cayenne',
      tags: ['Hybrid', 'Benzin'],
      description: 'Vielseitiger SUV',
      imgSrc: 'http://localhost:3002/cayenne.png',
    },
    {
      value: 'panamera',
      label: 'Panamera',
      tags: ['Hybrid', 'Benzin'],
      description: 'Luxuslimousine mit hohem Komfort',
      imgSrc: 'http://localhost:3002/panamera.png',
    },
  ];

  const select = document.querySelector('p-select');
  const selectedSlot = select.querySelector('[slot="selected"]');

  select.addEventListener('change', (e) => {
    const selectedOption = options.find((option) => option.value === e.target.value);
    selectedSlot.innerHTML = `
      <img src="${selectedOption.imgSrc}" alt="" class="h-full w-auto" />
      <p class="prose-text-md truncate m-0">${selectedOption.label}</p>
      ${selectedOption.tags.map(tag => `
        <p-tag color="notification-info-soft" compact="true">
          ${tag}
        </p-tag>
      `).join('')}
    `;
  });

  const renderOptions = () => {
    options.forEach(option => {
      const optionElement = document.createElement('p-select-option');
      optionElement.value = option.value;
      optionElement.innerHTML = `
        <div class="flex items-center gap-fluid-sm">
          <img src="${option.imgSrc}" alt="" class="h-[34px] w-auto" />
          <div class="flex flex-col">
            <div class="flex items-center gap-fluid-sm">
              <p class="prose-text-md m-0">${option.label}</p>
              ${option.tags.map(tag => `
                <p-tag color="notification-info-soft" compact="true">
                  ${tag}
                </p-tag>
              `).join('')}
            </div>
            <p class="prose-text-2xs m-0">${option.description}</p>
          </div>
        </div>
      `;
      select.appendChild(optionElement);
    });
  };

  renderOptions();
</script>
