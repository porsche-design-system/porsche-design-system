{"version":3,"sources":["webpack:///./src/views/Page.vue","webpack:///./src/views/Page.vue?0eea","webpack:///./src/views/Page.vue?3c7e","webpack:///./src/views/Page.vue?1893","webpack:///./src/views/Page.vue?9737"],"names":["render","_vm","this","_c","_self","_setupProxy","hasTabs","attrs","activeTabIndex","_l","tabs","tab","index","key","createTabLink","_v","_s","_e","components","component","tag","staticRenderFns","Page","Vue","length","indexOf","page","STOREFRONT_CONFIG","category","Array","isArray","Object","keys","name","map","x","paramCase","join","loadComponents","capitalCase","$route","params","$store","dispatch","pages","Promise","all","async","default","redirect","$router","replace","__decorate","Watch","Component","Markdown"],"mappings":"uHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAAEF,EAAIK,QAASH,EAAG,aAAa,CAACI,MAAM,CAAC,mBAAmBN,EAAIO,eAAe,KAAO,WAAWP,EAAIQ,GAAIR,EAAIS,MAAM,SAASC,EAAIC,GAAO,OAAOT,EAAG,cAAc,CAACU,IAAID,EAAML,MAAM,CAAC,GAAKN,EAAIa,cAAcH,KAAO,CAACV,EAAIc,GAAGd,EAAIe,GAAGL,SAAU,GAAGV,EAAIgB,KAAMhB,EAAIK,QAASH,EAAG,aAAaF,EAAIgB,KAAKd,EAAG,WAAWF,EAAIQ,GAAIR,EAAIiB,YAAY,SAASC,EAAUP,GAAO,OAAOT,EAAGgB,EAAU,CAACN,IAAID,EAAMQ,IAAI,iBAAgB,IAAI,IAErfC,EAAkB,G,4GCaL,IAAMC,EAAN,cAAmBC,OAAG,+DACE,IAErC,cACE,OAAOrB,KAAKQ,KAAKc,OAAS,EAG5B,qBACE,OAAOtB,KAAKQ,KAAKe,QAAQvB,KAAKS,KAGhC,WAAe,MACb,MAAMe,EAAwB,OAAjBC,aAAiB,IAAjBA,QAAkC,QAAjB,EAAjBA,OAAoBzB,KAAK0B,iBAAS,WAAjB,EAAjB,EAAqC1B,KAAKwB,MAEvD,OAAKA,GAAQG,MAAMC,QAAQJ,GAClB,GAEAK,OAAOC,KAAKN,GAIhBZ,cAAcmB,GACnB,MAAO,IAAM,CAAC/B,KAAK0B,SAAU1B,KAAKwB,KAAMO,GAAMC,IAAKC,GAAMC,eAAUD,IAAIE,KAAK,KAIhE,4BACNnC,KAAKoC,iBAGL,sBACApC,KAAKoC,iBAGb,eACE,OAAOC,eAAYrC,KAAKsC,OAAOC,OAAOb,UAGxC,WACE,OAAOW,eAAYrC,KAAKsC,OAAOC,OAAOf,MAGxC,UACE,MAAM,IAAEf,GAAQT,KAAKsC,OAAOC,OAC5B,OAAO9B,GAAO4B,eAAY5B,GAG5B,YAAiB,MACf,MAAMe,EAAwB,OAAjBC,aAAiB,IAAjBA,QAAkC,QAAjB,EAAjBA,OAAoBzB,KAAK0B,iBAAS,WAAjB,EAAjB,EAAqC1B,KAAKwB,MAEvD,OAAKA,GAAQG,MAAMC,QAAQJ,GAClBA,EAEAA,EAAKxB,KAAKS,KAIb,uBAAoB,MAC1BT,KAAKgB,WAAa,SACZhB,KAAKwC,OAAOC,SAAS,sBAAsB,GACnC,QAAd,EAAIzC,KAAK0C,aAAK,OAAV,EAAYpB,OACdtB,KAAKgB,iBAAmB2B,QAAQC,IAC9B5C,KAAK0C,MAAMV,IAAIa,gBAAqBZ,KAAoCa,gBAGpE9C,KAAK+C,iBAEP/C,KAAKwC,OAAOC,SAAS,sBAAsB,GAG3C,iBACFzC,KAAKI,cACDJ,KAAKgD,QAAQC,QAAQjD,KAAKY,cAAcZ,KAAKQ,KAAK,WAElDR,KAAKgD,QAAQC,QAAQ,CAAElB,KAAM,UAhDzBmB,gBADbC,eAAM,WAAS,kCAzBG/B,EAAI,gBALxBgC,eAAU,CACTpC,WAAY,CACVqC,oBAGiBjC,WCfwW,I,wBCQ3XH,EAAY,eACd,EACAnB,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAAF,E,oECnBf","file":"js/chunk-150d40f4.e8b23386.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[(_vm.hasTabs)?_c('p-tabs-bar',{attrs:{\"active-tab-index\":_vm.activeTabIndex,\"size\":\"medium\"}},_vm._l((_vm.tabs),function(tab,index){return _c('router-link',{key:index,attrs:{\"to\":_vm.createTabLink(tab)}},[_vm._v(_vm._s(tab))])}),1):_vm._e(),(_vm.hasTabs)?_c('p-divider'):_vm._e(),_c('Markdown',_vm._l((_vm.components),function(component,index){return _c(component,{key:index,tag:\"component\"})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import Vue from 'vue';\n  import Component from 'vue-class-component';\n  import { Watch } from 'vue-property-decorator';\n  import { config as STOREFRONT_CONFIG } from '@/../storefront.config';\n  import Markdown from '@/components/Markdown.vue';\n  import { StorefrontConfigPage } from '@/models';\n  import { Component as ComponentType } from 'vue/types/options';\n  import { capitalCase, paramCase } from 'change-case';\n\n  @Component({\n    components: {\n      Markdown,\n    },\n  })\n  export default class Page extends Vue {\n    public components: ComponentType[] = [];\n\n    public get hasTabs(): boolean {\n      return this.tabs.length > 0;\n    }\n\n    public get activeTabIndex(): number {\n      return this.tabs.indexOf(this.tab);\n    }\n\n    public get tabs(): string[] {\n      const page = STOREFRONT_CONFIG?.[this.category]?.[this.page];\n\n      if (!page || Array.isArray(page)) {\n        return [];\n      } else {\n        return Object.keys(page);\n      }\n    }\n\n    public createTabLink(name: string): string {\n      return '/' + [this.category, this.page, name].map((x) => paramCase(x)).join('/');\n    }\n\n    @Watch('$route')\n    private async onRouteChange(): Promise<void> {\n      await this.loadComponents();\n    }\n\n    private async mounted(): Promise<void> {\n      await this.loadComponents();\n    }\n\n    private get category(): string {\n      return capitalCase(this.$route.params.category);\n    }\n\n    private get page(): string {\n      return capitalCase(this.$route.params.page);\n    }\n\n    private get tab(): string {\n      const { tab } = this.$route.params;\n      return tab && capitalCase(tab);\n    }\n\n    private get pages(): StorefrontConfigPage {\n      const page = STOREFRONT_CONFIG?.[this.category]?.[this.page];\n\n      if (!page || Array.isArray(page)) {\n        return page;\n      } else {\n        return page[this.tab];\n      }\n    }\n\n    private async loadComponents(): Promise<void> {\n      this.components = [];\n      await this.$store.dispatch('toggleLoadingAsync', true);\n      if (this.pages?.length) {\n        this.components = await Promise.all(\n          this.pages.map(async (x) => ((await x()) as { default: ComponentType }).default)\n        );\n      } else {\n        await this.redirect();\n      }\n      await this.$store.dispatch('toggleLoadingAsync', false);\n    }\n\n    private async redirect(): Promise<void> {\n      if (this.hasTabs) {\n        await this.$router.replace(this.createTabLink(this.tabs[0]));\n      } else {\n        await this.$router.replace({ name: '404' });\n      }\n    }\n  }\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=11e7faa6&scoped=true&\"\nimport script from \"./Page.vue?vue&type=script&lang=ts&\"\nexport * from \"./Page.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&id=11e7faa6&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11e7faa6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&id=11e7faa6&prod&scoped=true&lang=scss&\""],"sourceRoot":""}