{"version":3,"sources":["webpack:///./src/pages/must-know/security/content-security-policy.md","webpack:///./src/pages/must-know/security/content-security-policy.md?59b4","webpack:///./src/pages/must-know/security/content-security-policy.md?29a2","webpack:///./src/pages/must-know/security/content-security-policy.md?7967"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","_v","_m","attrs","currentCSP","integration","staticRenderFns","Code","Vue","_document$head$queryS","document","head","querySelector","outerHTML","replace","__decorate","Component","component"],"mappings":"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","file":"js/chunk-2d0af9fe.976f8332.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vmark\"},[_c('h1',[_vm._v(\"Security\")]),_vm._m(0),_vm._m(1),_c('h2',[_vm._v(\"Basic\")]),_vm._m(2),_c('p',[_vm._v(\"For example, this website currently uses the following one.\")]),_c('Playground',{attrs:{\"showCodeEditor\":false,\"frameworkMarkup\":[this.currentCSP]}}),_c('h2',[_vm._v(\"Partials\")]),_vm._m(3),_vm._m(4),_c('p',[_vm._v(\"The ones affected are:\")]),_vm._m(5),_c('p',[_vm._v(\"To allow their result being executed by the browser there are two options:\")]),_vm._m(6),_vm._m(7),_vm._m(8),_c('Notification',{attrs:{\"heading\":\"Important note\",\"heading-tag\":\"h3\",\"state\":\"success\"}},[_vm._v(\" The returned string from calling a partial, e.g. \"),_c('code',[_vm._v(\"getInitialStyles({ format: 'sha256' })\")]),_vm._v(\" is already wrapped in single quotes so it can be used directly in your policy. \")]),_c('p',[_vm._v(\"So an example integration could look like this.\")]),_c('Playground',{attrs:{\"showCodeEditor\":false,\"frameworkMarkup\":[this.integration]}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('p',[_vm._v(\"The HTTP \"),_c('a',{attrs:{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy\"}},[_vm._v(\"Content-Security-Policy\")]),_vm._v(\" (CSP) response header and meta tag allow website administrators to control resources the user agent is allowed to load for a given page. With a few exceptions, policies mostly involve specifying server origins and script endpoints. This helps guard against cross-site scripting attacks.\")])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('p',[_vm._v(\"Therefore, we recommend specifying a Content Security Policy for every website and web app.\"),_c('br'),_vm._v(\" Further information can be found in the \"),_c('a',{attrs:{\"href\":\"https://content-security-policy.com\"}},[_vm._v(\"Content Security Policy Reference\")]),_vm._v(\".\")])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('p',[_vm._v(\"By specifying \"),_c('code',[_vm._v(\"https://cdn.ui.porsche.com\")]),_vm._v(\" and \"),_c('code',[_vm._v(\"https://cdn.ui.porsche.cn\")]),_vm._v(\" for \"),_c('code',[_vm._v(\"default-src\")]),_vm._v(\", \"),_c('code',[_vm._v(\"style-src\")]),_vm._v(\" and \"),_c('code',[_vm._v(\"script-src\")]),_vm._v(\", all basic use cases should be covered.\")])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('p',[_vm._v(\"However, the Porsche Design System requires and recommends the usage of \"),_c('a',{attrs:{\"href\":\"partials/introduction\"}},[_vm._v(\"partials\")]),_vm._v(\" for injecting styles/scripts and preloading assets.\")])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('p',[_vm._v(\"While partials for preloading are covered by whitelisting our CDN domains from above, partials that produce dynamic innerHTML are \"),_c('strong',[_vm._v(\"not\")]),_vm._v(\".\")])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"partials/initial-styles\"}},[_vm._v(\"getInitialStyles()\")]),_vm._v(\" \"),_c('strong',[_vm._v(\"required since v3.7.0\")])]),_c('li',[_c('a',{attrs:{\"href\":\"partials/loader-script\"}},[_vm._v(\"getLoaderScript()\")])]),_c('li',[_c('a',{attrs:{\"href\":\"partials/dsr-ponyfill\"}},[_vm._v(\"getDSRPonyfill()\")])]),_c('li',[_c('a',{attrs:{\"href\":\"partials/browser-support-fallback-script\"}},[_vm._v(\"getBrowserSupportFallbackScript()\")])]),_c('li',[_c('a',{attrs:{\"href\":\"partials/cookies-fallback-script\"}},[_vm._v(\"getCookiesFallbackScript()\")])])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('ol',[_c('li',[_vm._v(\"Apply a unique \"),_c('code',[_vm._v(\"nonce\")]),_vm._v(\" attribute on the \"),_c('code',[_vm._v(\"script\")]),_vm._v(\" and \"),_c('code',[_vm._v(\"style\")]),_vm._v(\" tag that the partial produces and whitelist this nonce in the CSP header/meta tag\")]),_c('li',[_vm._v(\"Whitelist the \"),_c('code',[_vm._v(\"script\")]),_vm._v(\"'s and \"),_c('code',[_vm._v(\"style\")]),_vm._v(\"'s hashed content in the CSP header/meta tag\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('p',[_vm._v(\"While the 1st option might be easier to apply by post processing the partial's output it is important that the nonce \"),_c('strong',[_vm._v(\"is not reused\")]),_vm._v(\" which means a new nonce has to be generated \"),_c('strong',[_vm._v(\"each time the website is requested\")]),_vm._v(\" by a user.\")])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('p',[_vm._v(\"Our recommendation is to go with the 2nd option.\"),_c('br'),_vm._v(\" To make integration easy, the affected partials accept the option \"),_c('code',[_vm._v(\"{ format: 'sha256' }\")]),_vm._v(\" in order to receive the hash that needs to be applied with single quotes in the CSP header/meta tag.\")])\n}]\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue';\nimport Component from 'vue-class-component';\n\n@Component\nexport default class Code extends Vue {\n  get currentCSP(): string {\n    return document.head.querySelector('[http-equiv=\"Content-Security-Policy\"]')?.outerHTML.replace(/content=\"|; /g, '$&\\n  ').replace(/>$/, '\\n$&') || 'CSP meta tag not found.';\n  }\n\n  get integration(): string {\n    return `\nconst styleHashes = [\n  getInitialStyles({ format: 'sha256' })\n].join(' ');\n\nconst scriptHashes = [\n  getBrowserSupportFallbackScript({ format: 'sha256' }),\n  getCookiesFallbackScript({ format: 'sha256' })\n].join(' ');\n\nconst cspContent = [\n  \\`default-src 'self' https://cdn.ui.porsche.com\\`,\n  \\`style-src 'self' \\${styleHashes}\\`,\n  \\`script-src 'self' https://cdn.ui.porsche.com \\${scriptHashes}\\`,\n  \\`img-src 'self' https://cdn.ui.porsche.com data:\\` // data: is needed for inline background images, e.g. used in checkbox-wrapper and radio-button-wrapper\n].join('; ');\n\nreturn (\n  <>\n    <head>\n      <meta http-equiv=\"Content-Security-Policy\" content={cspContent} />\n      {getInitialStyles({ format: 'jsx' })}\n    </head>\n    <body>\n      <div id=\"app\"></div>\n\n      {getBrowserSupportFallbackScript({ format: 'jsx' })}\n      {getCookiesFallbackScript({ format: 'jsx' })}\n    </body>\n  </>\n);`;\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vue-loader/lib/index.js!../../../../../../node_modules/vmark-loader/index.js!./content-security-policy.md?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vue-loader/lib/index.js!../../../../../../node_modules/vmark-loader/index.js!./content-security-policy.md?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./content-security-policy.md?vue&type=template&id=64540f52\"\nimport script from \"./content-security-policy.md?vue&type=script&lang=ts\"\nexport * from \"./content-security-policy.md?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}