{"version":3,"sources":["webpack:///./src/views/Page.vue","webpack:///./src/views/Page.vue?4d0f","webpack:///./src/views/Page.vue?a0c4","webpack:///./src/views/Page.vue?1893","webpack:///./src/views/Page.vue?0ad8"],"names":["render","_vm","this","_c","_self","_setupProxy","attrs","hasTabs","storefrontTheme","activeTabIndex","_l","tabs","tab","index","key","createTabLink","_v","_s","_e","isLoading","class","getSkeletonTheme","category","components","component","tag","staticRenderFns","PageView","Vue","constructor","args","_defineProperty","length","indexOf","_STOREFRONT_CONFIG$th","page","STOREFRONT_CONFIG","Array","isArray","Object","keys","name","map","x","paramCase","join","loadComponents","onPrefersColorSchemeChange","$forceUpdate","destroyed","removeOnPrefersColorSchemeChange","capitalCase","$route","params","_STOREFRONT_CONFIG$th2","_this$pages","pages","$store","commit","Promise","all","async","default","redirect","$router","replace","getters","isPreferredColorSchemeDark","__decorate","Watch","Component","Markdown"],"mappings":"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","file":"js/chunk-c5173830.5ef17311.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('nav',{attrs:{\"aria-label\":\"Content\"}},[(_vm.hasTabs)?_c('p-tabs-bar',{attrs:{\"theme\":_vm.storefrontTheme,\"active-tab-index\":_vm.activeTabIndex,\"size\":\"medium\"}},_vm._l((_vm.tabs),function(tab,index){return _c('router-link',{key:index,attrs:{\"to\":_vm.createTabLink(tab)}},[_vm._v(_vm._s(tab))])}),1):_vm._e()],1),(_vm.isLoading)?_c('div',[_c('div',{class:['skeleton', 'skeleton--h1', _vm.getSkeletonTheme()]}),(_vm.category !== 'Styles')?_c('div',[_c('div',{class:['skeleton', 'skeleton--text', 'skeleton--text--full', _vm.getSkeletonTheme()]}),_c('div',{class:['skeleton', 'skeleton--text', 'skeleton--text--full', _vm.getSkeletonTheme()]}),_c('div',{class:['skeleton', 'skeleton--text', _vm.getSkeletonTheme()]})]):_vm._e(),_c('div',{class:['skeleton', 'skeleton--h2', _vm.getSkeletonTheme()]}),_c('div',{class:['skeleton', 'skeleton--text', 'skeleton--text--toc', _vm.getSkeletonTheme()]}),_c('div',{class:['skeleton', 'skeleton--text', 'skeleton--text--toc', _vm.getSkeletonTheme()]}),_c('div',{class:['skeleton', 'skeleton--text', 'skeleton--text--toc', _vm.getSkeletonTheme()]})]):_c('Markdown',_vm._l((_vm.components),function(component,index){return _c(component,{key:index,tag:\"component\"})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import Vue from 'vue';\n  import Component from 'vue-class-component';\n  import { Watch } from 'vue-property-decorator';\n  import { config as STOREFRONT_CONFIG } from '@/../storefront.config';\n  import Markdown from '@/components/Markdown.vue';\n  import type { StorefrontConfigPage, StorefrontTheme } from '@/models';\n  import type { Component as ComponentType } from 'vue/types/options';\n  import { capitalCase, paramCase } from 'change-case';\n  import { isPreferredColorSchemeDark, onPrefersColorSchemeChange, removeOnPrefersColorSchemeChange } from '@/utils';\n\n  @Component({\n    components: {\n      Markdown,\n    },\n  })\n  export default class PageView extends Vue {\n    public components: ComponentType[] = [];\n\n    public get hasTabs(): boolean {\n      return this.tabs.length > 0;\n    }\n\n    public get activeTabIndex(): number {\n      return this.tabs.indexOf(this.tab);\n    }\n\n    public get tabs(): string[] {\n      const page = STOREFRONT_CONFIG?.[this.category]?.[this.page];\n\n      if (!page || Array.isArray(page)) {\n        return [];\n      } else {\n        return Object.keys(page);\n      }\n    }\n\n    public createTabLink(name: string): string {\n      return '/' + [this.category, this.page, name].map((x) => paramCase(x)).join('/');\n    }\n\n    @Watch('$route')\n    private async onRouteChange(): Promise<void> {\n      await this.loadComponents();\n    }\n\n    private async mounted(): Promise<void> {\n      await this.loadComponents();\n\n      onPrefersColorSchemeChange(this, () => {\n        if (this.storefrontTheme === 'auto') {\n          this.$forceUpdate();\n        }\n      });\n    }\n\n    destroyed(): void {\n      removeOnPrefersColorSchemeChange(this);\n    }\n\n    public get category(): string {\n      return capitalCase(this.$route.params.category);\n    }\n\n    private get page(): string {\n      return capitalCase(this.$route.params.page);\n    }\n\n    private get tab(): string {\n      const { tab } = this.$route.params;\n      return tab && capitalCase(tab);\n    }\n\n    private get pages(): StorefrontConfigPage {\n      const page = STOREFRONT_CONFIG?.[this.category]?.[this.page];\n\n      if (!page || Array.isArray(page)) {\n        return page;\n      } else {\n        return page[this.tab];\n      }\n    }\n\n    // called twice when navigation happens via sidebar because initial link goes to category and not to first tab\n    private async loadComponents(): Promise<void> {\n      this.components = [];\n      if (this.pages?.length) {\n        this.$store.commit('setIsLoading', true);\n        this.components = await Promise.all(\n          this.pages.map(async (x) => ((await x()) as { default: ComponentType }).default)\n        );\n        this.$store.commit('setIsLoading', false);\n      } else {\n        await this.redirect();\n      }\n    }\n\n    private async redirect(): Promise<void> {\n      if (this.hasTabs) {\n        await this.$router.replace(this.createTabLink(this.tabs[0]));\n      } else {\n        await this.$router.replace({ name: '404' });\n      }\n    }\n\n    public get isLoading(): boolean {\n      return this.$store.getters.isLoading;\n    }\n\n    public get storefrontTheme(): StorefrontTheme {\n      return this.$store.getters.storefrontTheme;\n    }\n\n    // needs to real function, because a getter like `public get skeletonTheme()` is not called again on this.$forceUpdate()\n    public getSkeletonTheme(): string {\n      return (this.storefrontTheme === 'auto' && isPreferredColorSchemeDark()) || this.storefrontTheme === 'dark'\n        ? 'skeleton--dark'\n        : 'skeleton--light';\n    }\n  }\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=5616fbe0&scoped=true\"\nimport script from \"./Page.vue?vue&type=script&lang=ts\"\nexport * from \"./Page.vue?vue&type=script&lang=ts\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&id=5616fbe0&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5616fbe0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&id=5616fbe0&prod&scoped=true&lang=scss\""],"sourceRoot":""}