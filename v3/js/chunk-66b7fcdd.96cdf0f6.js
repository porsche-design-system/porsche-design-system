(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66b7fcdd"],{a704:function(e,t,n){e.exports=n.p+"img/pds-architecture.277c53a0.png"},db2b:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vmark"},[t("h1",[e._v("Performance")]),e._m(0),t("TableOfContents"),t("h2",[e._v("Architecture")]),e._m(1),t("h2",[e._v("Explanation")]),t("p",[e._v("Let's have a look at following applications and assume that all of these applications have integrated a Porsche Design System Button:")]),e._m(2),e._m(3),t("p",[e._v("This way performance and consistency can be dramatically increased across all digital Porsche products using the Porsche Design System.")]),t("h2",[e._v("China CDN")]),e._m(4),t("p",[e._v("Because of the automatic forwarding strategy the amount of requests increases in China and the forwarding itself also costs each time some milliseconds. That's why the Porsche Design System provides the optional possibility to define from which CDN those assets shall be loaded to get maximum performance in China.")]),e._m(5),t("Notification",{attrs:{heading:"Attention","heading-tag":"h3",state:"warning"}},[e._v(" Usually the integrating team that is responsible for the application is in charge of configuring which cdn to use."),t("br"),e._v(" This means that widget teams shouldn't set it and might even override it. ")]),t("p",[e._v("Possible values that can be assigned:")]),e._m(6),e._m(7),t("p",[e._v("The same can be achieved in all supported frameworks via the respective module or provider like")]),e._m(8),t("h3",[e._v("Vanilla JS Example")]),e._m(9),t("h3",[e._v("Angular Example (app.module.ts)")]),e._m(10),t("h3",[e._v("React Example (index.tsx)")]),e._m(11),t("h3",[e._v("Vue Example (App.vue)")]),e._m(12),t("h3",[e._v("Partials")]),e._m(13),e._m(14)],1)},o=[function(){var e=this,t=e._self._c;return t("p",[e._v("The Porsche Design System "),t("strong",[e._v("components")]),e._v(", "),t("strong",[e._v("marque")]),e._v(", "),t("strong",[e._v("icons")]),e._v(", "),t("strong",[e._v("fonts")]),e._v(" and "),t("strong",[e._v("styles")]),e._v(" are delivered by CDN (cdn.ui.porsche.com). This way all digital Porsche products share and use the cached and versioned assets independently.")])},function(){var e=this,t=e._self._c;return t("p",[t("img",{attrs:{src:n("a704"),alt:"Porsche Design System Architecture"}})])},function(){var e=this,t=e._self._c;return t("ul",[t("li",[t("a",{attrs:{href:"https://porsche.com"}},[e._v("Porsche.com")]),e._v(" created with Vanilla JS")]),t("li",[t("a",{attrs:{href:"https://finder.porsche.com"}},[e._v("Porsche Finder")]),e._v(" created with React")]),t("li",[t("a",{attrs:{href:"https://login.porsche.com/login"}},[e._v("My Porsche")]),e._v(" created with Angular")])])},function(){var e=this,t=e._self._c;return t("p",[e._v("When e.g. a user visits "),t("strong",[e._v("Porsche.com")]),e._v(" then the Porsche Design System Button gets loaded for the first time and will be automatically stored in browser cache. Imagine the same user switches to the "),t("strong",[e._v("Porsche Finder")]),e._v(" or "),t("strong",[e._v("My Porsche")]),e._v(" application which uses the same button then it will instantly be available because it's already in browser cache. Which means for the second and any further application less network requests and loading time.")])},function(){var e=this,t=e._self._c;return t("p",[e._v("When requests are made from China the CDN (cdn.ui.porsche."),t("strong",[e._v("com")]),e._v(") is configured to automatically forward those requests to a CDN hosted in China (cdn.ui.porsche."),t("strong",[e._v("cn")]),e._v(") which finally responses the request. Why? Because it's local law. Anyway this way we provide an easy way to use the Porsche Design System assets without worrying about performance in China or the rest of world with zero configuration.")])},function(){var e=this,t=e._self._c;return t("p",[e._v("To achieve this, a global browser variable "),t("code",[e._v("PORSCHE_DESIGN_SYSTEM_CDN")]),e._v(" was introduced which needs to be defined before initializing the Porsche Design System.")])},function(){var e=this,t=e._self._c;return t("ul",[t("li",[t("code",[e._v("auto")]),e._v(" (default - using RoW CDN and redirects to Chinese CDN automatically when necessary)")]),t("li",[t("code",[e._v("cn")]),e._v(" (forces using Chinese CDN directly) This gives the possibility for the consuming application to have either "),t("strong",[e._v("two dedicated builds")]),e._v(" for their application, one for China and one for RoW (rest of world) or following the "),t("strong",[e._v("build once, deploy many principle")]),e._v(", it can be configured at start-up time.")])])},function(){var e=this,t=e._self._c;return t("p",[e._v("Since handling the global configuration variable "),t("code",[e._v("PORSCHE_DESIGN_SYSTEM_CDN")]),e._v(" isn't very nice and won't work in a SSR context, the "),t("code",[e._v("porscheDesignSystem.load()")]),e._v(" function accepts a "),t("code",[e._v("cdn: 'auto' | 'cn'")]),e._v(" option which will then set the "),t("code",[e._v("PORSCHE_DESIGN_SYSTEM_CDN")]),e._v(" for backwards compatibility and therefore affecting other micro frontends within the same website or app.")])},function(){var e=this,t=e._self._c;return t("ul",[t("li",[e._v("Angular: "),t("code",[e._v("PorscheDesignSystemModule.load({ cdn: 'cn' })")])]),t("li",[e._v("React: "),t("code",[e._v('<PorscheDesignSystemProvider cdn="cn" />')])]),t("li",[e._v("Vue: "),t("code",[e._v('<PorscheDesignSystemProvider cdn="cn" />')])])])},function(){var e=this,t=e._self._c;return t("pre",[t("code",{staticClass:"language-html"},[e._v('<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>Porsche Design System</title>\n    <script type="text/javascript" src="path-to-porsche-design-system.js"><\/script>\n  </head>\n  <body>\n    <script>\n      porscheDesignSystem.load({ cdn: \'cn\' });\n    <\/script>\n  </body>\n</html>\n')])])},function(){var e=this,t=e._self._c;return t("pre",[t("code",{staticClass:"language-ts"},[e._v("import { BrowserModule } from '@angular/platform-browser';\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { PorscheDesignSystemModule } from '@porsche-design-system/components-angular';\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [],\n  imports: [BrowserModule, PorscheDesignSystemModule.load({ cdn: 'cn' })],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n")])])},function(){var e=this,t=e._self._c;return t("pre",[t("code",{staticClass:"language-ts"},[e._v("import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PorscheDesignSystemProvider } from '@porsche-design-system/components-react';\nimport { App } from './App';\n\nconst root = createRoot(document.getElementById('root')!);\nroot.render(\n  <StrictMode>\n    <BrowserRouter>\n      <PorscheDesignSystemProvider cdn=\"cn\">\n        <App />\n      </PorscheDesignSystemProvider>\n    </BrowserRouter>\n  </StrictMode>\n);\n")])])},function(){var e=this,t=e._self._c;return t("pre",[t("code",{staticClass:"language-vue"},[e._v('<script setup lang="ts">\n  import { PorscheDesignSystemProvider } from \'@porsche-design-system/components-vue\';\n<\/script>\n\n<template>\n  <PorscheDesignSystemProvider cdn="cn">\n    <RouterView />\n  </PorscheDesignSystemProvider>\n</template>\n')])])},function(){var e=this,t=e._self._c;return t("p",[e._v("Also, all CDN related partials of the "),t("code",[e._v("@porsche-design-system/components-{js|angular|react|vue}/partials")]),e._v(" packages have an option "),t("code",[e._v("{ cdn: 'auto' | 'cn' }")]),e._v(" to force preloading assets from Chinese CDN directly, e.g.:")])},function(){var e=this,t=e._self._c;return t("pre",[t("code",{staticClass:"language-html"},[e._v("<head>\n  <%= require('@porsche-design-system/components-{js|angular|react|vue}/partials').getFontFaceStylesheet({ cdn: 'cn' }) %>\n</head>\n")])])}],r=n("2877"),i={},a=Object(r["a"])(i,s,o,!1,null,null,null);t["default"]=a.exports}}]);
//# sourceMappingURL=chunk-66b7fcdd.96cdf0f6.js.map